{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, useDir, Keys, getTabIndex } from '@progress/kendo-react-common';\nimport { RatingItem } from './RatingItem';\nimport { ratingReducer, RATING_ACTION } from './rating-reducer';\nimport { isSelected, isHalf, calcIsFirstHalf, isCorrectValue, toRound, getRemainder } from './utils';\n/**\n * @hidden\n */\n\nvar useRating = function (defaultValue, args, callback) {\n  var _a = React.useState(defaultValue),\n      state = _a[0],\n      setState = _a[1];\n\n  var handleDispatchAction = function (action) {\n    var newState = ratingReducer(args.state || state, __assign({}, action, args));\n\n    if (callback) {\n      callback(newState, action.event);\n    }\n\n    setState(newState);\n  };\n\n  return [state, handleDispatchAction];\n};\n/**\n * Represents the Rating component.\n */\n\n\nexport var Rating = React.forwardRef(function (props, ref) {\n  var _a, _b, _c, _d;\n\n  var target = React.useRef(null);\n  var ratingRef = React.useRef(null);\n  var dir = useDir(ratingRef, props.dir);\n  React.useImperativeHandle(target, function () {\n    return {\n      element: ratingRef.current,\n      props: props\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return target.current;\n  });\n  var handleChange = React.useCallback(function (newValue, event) {\n    if (props.onChange && target.current) {\n      props.onChange.call(undefined, {\n        value: newValue,\n        target: target.current,\n        syntheticEvent: event\n      });\n    }\n  }, [props.onChange]);\n  var min = React.useMemo(function () {\n    return props.min !== undefined ? props.min : defaultProps.min;\n  }, [props.min]);\n  var max = React.useMemo(function () {\n    return props.max !== undefined ? props.max : defaultProps.max;\n  }, [props.max]);\n  var precision = React.useMemo(function () {\n    return props.precision || defaultProps.precision;\n  }, [props.precision]);\n  var step = React.useMemo(function () {\n    return props.step !== undefined ? props.step : defaultProps.step;\n  }, [props.step]);\n  var readonly = React.useMemo(function () {\n    return props.readonly || defaultProps.readonly;\n  }, [props.readonly]);\n  var disabled = React.useMemo(function () {\n    return props.disabled || defaultProps.disabled;\n  }, [props.disabled]);\n  var Item = React.useMemo(function () {\n    return props.item || defaultProps.item;\n  }, [props.item]);\n\n  var _e = useRating(props.defaultValue || defaultProps.defaultValue, {\n    state: props.value,\n    min: min,\n    max: max,\n    step: precision === 'half' ? step / 2 : step\n  }, handleChange),\n      stateValue = _e[0],\n      dispatchStateValue = _e[1];\n\n  var _f = useRating(null, {\n    state: props.value,\n    min: min,\n    max: max,\n    step: precision === 'half' ? step / 2 : step,\n    precision: precision\n  }),\n      stateHover = _f[0],\n      dispatchStateHover = _f[1];\n\n  var value = React.useMemo(function () {\n    return props.value || stateValue;\n  }, [props.value, stateValue]);\n  var hoveredValue = React.useMemo(function () {\n    return stateHover;\n  }, [stateHover]);\n  var selection = React.useMemo(function () {\n    return props.selection || defaultProps.selection;\n  }, [props.selection]);\n  var base = React.useMemo(function () {\n    return step / (precision === 'half' ? 2 : 1);\n  }, [step, precision]);\n  var handleItemClick = React.useCallback(function (event) {\n    if (!event.target || !event.target.element || readonly || disabled) {\n      return;\n    }\n\n    if (precision === 'half') {\n      var rect = event.target.element.getBoundingClientRect();\n      var isFirstHalf = calcIsFirstHalf(dir ? dir : 'ltr', rect, event.syntheticEvent.clientX);\n      var payload = isFirstHalf ? toRound(event.target.value - step / 2, base) : event.target.value;\n      dispatchStateValue({\n        type: RATING_ACTION.select,\n        payload: payload,\n        event: event.syntheticEvent\n      });\n    } else {\n      dispatchStateValue({\n        type: RATING_ACTION.select,\n        payload: event.target.value,\n        event: event.syntheticEvent\n      });\n    }\n\n    if (props.onClick) {\n      props.onClick.call(undefined, {\n        value: value,\n        target: target.current,\n        syntheticEvent: event.syntheticEvent\n      });\n    }\n  }, [props.onClick, dispatchStateValue, value]);\n  var handleKeyDown = React.useCallback(function (syntheticEvent) {\n    if (readonly || disabled) {\n      return;\n    }\n\n    switch (syntheticEvent.keyCode) {\n      case Keys.right:\n        syntheticEvent.preventDefault();\n        dispatchStateValue({\n          type: dir === 'rtl' ? RATING_ACTION.decrease : RATING_ACTION.increase,\n          event: syntheticEvent\n        });\n        break;\n\n      case Keys.left:\n        syntheticEvent.preventDefault();\n        dispatchStateValue({\n          type: dir === 'rtl' ? RATING_ACTION.increase : RATING_ACTION.decrease,\n          event: syntheticEvent\n        });\n        break;\n\n      case Keys.home:\n        syntheticEvent.preventDefault();\n        dispatchStateValue({\n          type: dir === 'rtl' ? RATING_ACTION.min : RATING_ACTION.max,\n          event: syntheticEvent\n        });\n        break;\n\n      case Keys.end:\n        syntheticEvent.preventDefault();\n        dispatchStateValue({\n          type: dir === 'rtl' ? RATING_ACTION.max : RATING_ACTION.min,\n          event: syntheticEvent\n        });\n        break;\n\n      case Keys.esc:\n        syntheticEvent.preventDefault();\n        dispatchStateValue({\n          type: RATING_ACTION.deselect,\n          event: syntheticEvent\n        });\n        break;\n\n      default:\n        break;\n    }\n\n    if (props.onKeyDown) {\n      props.onKeyDown.call(undefined, {\n        value: value,\n        target: target.current,\n        syntheticEvent: syntheticEvent\n      });\n    }\n  }, [props.onKeyDown, dispatchStateValue, value]);\n  var handleFocus = React.useCallback(function (syntheticEvent) {\n    if (props.onFocus) {\n      props.onFocus.call(undefined, {\n        target: target.current,\n        syntheticEvent: syntheticEvent\n      });\n    }\n  }, [props.onFocus]);\n  var handleBlur = React.useCallback(function (syntheticEvent) {\n    if (props.onBlur) {\n      props.onBlur.call(undefined, {\n        target: target.current,\n        syntheticEvent: syntheticEvent\n      });\n    }\n  }, [props.onBlur]);\n  var handleItemMouseMove = React.useCallback(function (event) {\n    if (!event.target || !event.target.element) {\n      return;\n    }\n\n    if (precision === 'half') {\n      var rect = event.target.element.getBoundingClientRect();\n      var isFirstHalf = calcIsFirstHalf(dir ? dir : 'ltr', rect, event.syntheticEvent.clientX);\n      var payload = isFirstHalf ? event.target.value - step / 2 : event.target.value;\n      dispatchStateHover({\n        type: RATING_ACTION.select,\n        payload: payload,\n        event: event.syntheticEvent\n      });\n    } else {\n      dispatchStateHover({\n        type: RATING_ACTION.select,\n        payload: event.target.value,\n        event: event.syntheticEvent\n      });\n    }\n  }, [precision, step, dir]);\n  var handleMouseLeave = React.useCallback(function (event) {\n    dispatchStateHover({\n      type: RATING_ACTION.reset,\n      event: event.syntheticEvent\n    });\n  }, []);\n  var items = [];\n  var remainder = getRemainder(toRound(max - min, base), step);\n\n  for (var i = min; i <= max; i = toRound(i + step, base)) {\n    var itemValue = toRound(i + remainder, base);\n    var half = precision === 'half' ? isHalf(itemValue, hoveredValue !== null ? hoveredValue : value !== null ? value : 0, step) : false;\n    var selectedValue = isSelected(itemValue, value, step, selection);\n    var selected = isSelected(itemValue, hoveredValue !== null ? hoveredValue : value, step, selection);\n    var hovered = isSelected(itemValue, hoveredValue, step, selection);\n    items.push(React.createElement(Item, {\n      key: itemValue,\n      value: itemValue,\n      dir: dir,\n      title: String(half ? toRound(itemValue - step / 2, base) : itemValue),\n      icon: props.icon,\n      half: half,\n      selected: selectedValue || selected,\n      hovered: hovered,\n      onClick: handleItemClick,\n      onMouseMove: handleItemMouseMove,\n      onMouseLeave: handleMouseLeave\n    }, half && React.createElement(\"span\", {\n      className: 'k-rating-precision-complement',\n      style: (_a = {\n        width: '12px'\n      }, _a[dir === 'rtl' ? 'right' : 'left'] = '50%', _a)\n    }, React.createElement(\"span\", {\n      className: classNames('k-icon', (_b = {\n        'k-i-star-outline': !props.icon\n      }, _b[props.icon + \"-outline\"] = props.icon, _b))\n    })), half && React.createElement(\"span\", {\n      className: 'k-rating-precision-part',\n      style: {\n        width: '12px'\n      }\n    }, React.createElement(\"span\", {\n      className: classNames('k-icon', (_c = {\n        'k-i-star': !props.icon\n      }, _c[\"\" + props.icon] = props.icon, _c))\n    })), half && React.createElement(\"span\", {\n      style: {\n        width: '24px',\n        height: '24px',\n        display: 'block'\n      }\n    }), !half && React.createElement(\"span\", {\n      className: classNames('k-icon', (_d = {\n        'k-i-star': !props.icon && (hovered || selected && !hovered),\n        'k-i-star-outline': !props.icon && !hovered\n      }, _d[\"\" + props.icon] = props.icon && (hovered || selected && !hovered), _d[props.icon + \"-outline\"] = props.icon && !hovered, _d))\n    })));\n  }\n\n  return React.createElement(\"span\", {\n    id: props.id,\n    style: props.style,\n    ref: ratingRef,\n    role: \"slider\",\n    dir: dir,\n    tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined),\n    className: classNames('k-rating k-widget', {\n      'k-rtl': dir === 'rtl',\n      'k-state-readonly': readonly,\n      'k-state-disabled': disabled\n    }, props.className),\n    onKeyDown: handleKeyDown,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    \"aria-valuemin\": min,\n    \"aria-valuemax\": max,\n    \"aria-valuenow\": value !== null ? value : undefined,\n    \"aria-disabled\": disabled ? 'true' : undefined,\n    \"aria-labelledby\": props.ariaLabelledBy,\n    \"aria-describedby\": props.ariaDescribedBy\n  }, React.createElement(\"input\", {\n    id: 'rating',\n    className: 'k-hidden',\n    readOnly: readonly,\n    disabled: disabled\n  }), React.createElement(\"span\", {\n    className: 'k-rating-container'\n  }, items), props.label && React.createElement(\"span\", {\n    className: 'k-rating-label'\n  }, props.label));\n});\nvar propTypes = {\n  id: PropTypes.string,\n  dir: PropTypes.oneOf(['ltr', 'rtl']),\n  selection: PropTypes.oneOf(['continues', 'single']),\n  precision: PropTypes.oneOf(['item', 'half']),\n  value: function (props, propName, componentName) {\n    if (props.value && props.min && props.max && props.step) {\n      var correctValue = props.precision === 'half' ? isCorrectValue(props.min, props.max, props.step / 2, props.value) : isCorrectValue(props.min, props.max, props.step, props.value);\n\n      if (!correctValue && props.precision === 'half') {\n        return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                    The value of the { value } property is not correct, please check your values.\\n                    \");\n      }\n    }\n\n    return null;\n  },\n  defaultValue: PropTypes.number,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  step: function (props, propName, componentName) {\n    if (props.step !== undefined && props.step <= 0) {\n      return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                The value of the { step } property is cannot be equal or less than \\\"0\\\", please check your values.\\n                \");\n    }\n\n    return null;\n  },\n  hovered: PropTypes.number,\n  label: PropTypes.string,\n  readonly: PropTypes.bool,\n  disabled: PropTypes.bool,\n  half: PropTypes.bool,\n  icon: PropTypes.string,\n  ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n  dir: 'ltr',\n  min: 1,\n  max: 5,\n  step: 1,\n  item: RatingItem,\n  defaultValue: null,\n  readonly: false,\n  disabled: false,\n  selection: 'continues',\n  precision: 'item'\n};\nRating.displayName = 'KendoReactRating'; // TODO: delete casting when @types/react is updated!\n\nRating.propTypes = propTypes;\nRating.defaultProps = defaultProps;","map":{"version":3,"sources":["../../../src/rating/Rating.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, useDir, Keys, getTabIndex } from '@progress/kendo-react-common';\nimport { RatingItem } from './RatingItem';\nimport { ratingReducer, RATING_ACTION } from './rating-reducer';\nimport { isSelected, isHalf, calcIsFirstHalf, isCorrectValue, toRound, getRemainder } from './utils';\n/**\n * @hidden\n */\nvar useRating = function (defaultValue, args, callback) {\n    var _a = React.useState(defaultValue), state = _a[0], setState = _a[1];\n    var handleDispatchAction = function (action) {\n        var newState = ratingReducer(args.state || state, __assign({}, action, args));\n        if (callback) {\n            callback(newState, action.event);\n        }\n        setState(newState);\n    };\n    return [state, handleDispatchAction];\n};\n/**\n * Represents the Rating component.\n */\nexport var Rating = React.forwardRef(function (props, ref) {\n    var _a, _b, _c, _d;\n    var target = React.useRef(null);\n    var ratingRef = React.useRef(null);\n    var dir = useDir(ratingRef, props.dir);\n    React.useImperativeHandle(target, function () { return ({\n        element: ratingRef.current,\n        props: props\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var handleChange = React.useCallback(function (newValue, event) {\n        if (props.onChange && target.current) {\n            props.onChange.call(undefined, {\n                value: newValue,\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onChange]);\n    var min = React.useMemo(function () { return props.min !== undefined ? props.min : defaultProps.min; }, [props.min]);\n    var max = React.useMemo(function () { return props.max !== undefined ? props.max : defaultProps.max; }, [props.max]);\n    var precision = React.useMemo(function () { return props.precision || defaultProps.precision; }, [props.precision]);\n    var step = React.useMemo(function () { return props.step !== undefined ? props.step : defaultProps.step; }, [props.step]);\n    var readonly = React.useMemo(function () { return props.readonly || defaultProps.readonly; }, [props.readonly]);\n    var disabled = React.useMemo(function () { return props.disabled || defaultProps.disabled; }, [props.disabled]);\n    var Item = React.useMemo(function () { return props.item || defaultProps.item; }, [props.item]);\n    var _e = useRating(props.defaultValue || defaultProps.defaultValue, {\n        state: props.value,\n        min: min,\n        max: max,\n        step: precision === 'half' ? step / 2 : step\n    }, handleChange), stateValue = _e[0], dispatchStateValue = _e[1];\n    var _f = useRating(null, {\n        state: props.value,\n        min: min,\n        max: max,\n        step: precision === 'half' ? step / 2 : step,\n        precision: precision\n    }), stateHover = _f[0], dispatchStateHover = _f[1];\n    var value = React.useMemo(function () { return props.value || stateValue; }, [props.value, stateValue]);\n    var hoveredValue = React.useMemo(function () { return stateHover; }, [stateHover]);\n    var selection = React.useMemo(function () { return props.selection || defaultProps.selection; }, [props.selection]);\n    var base = React.useMemo(function () { return step / (precision === 'half' ? 2 : 1); }, [step, precision]);\n    var handleItemClick = React.useCallback(function (event) {\n        if (!event.target || !event.target.element || readonly || disabled) {\n            return;\n        }\n        if (precision === 'half') {\n            var rect = event.target.element.getBoundingClientRect();\n            var isFirstHalf = calcIsFirstHalf(dir ? dir : 'ltr', rect, event.syntheticEvent.clientX);\n            var payload = isFirstHalf ? toRound(event.target.value - (step / 2), base) : event.target.value;\n            dispatchStateValue({ type: RATING_ACTION.select, payload: payload, event: event.syntheticEvent });\n        }\n        else {\n            dispatchStateValue({ type: RATING_ACTION.select, payload: event.target.value, event: event.syntheticEvent });\n        }\n        if (props.onClick) {\n            props.onClick.call(undefined, {\n                value: value,\n                target: target.current,\n                syntheticEvent: event.syntheticEvent\n            });\n        }\n    }, [props.onClick, dispatchStateValue, value]);\n    var handleKeyDown = React.useCallback(function (syntheticEvent) {\n        if (readonly || disabled) {\n            return;\n        }\n        switch (syntheticEvent.keyCode) {\n            case Keys.right:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.decrease : RATING_ACTION.increase, event: syntheticEvent\n                });\n                break;\n            case Keys.left:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.increase : RATING_ACTION.decrease, event: syntheticEvent\n                });\n                break;\n            case Keys.home:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.min : RATING_ACTION.max, event: syntheticEvent\n                });\n                break;\n            case Keys.end:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.max : RATING_ACTION.min, event: syntheticEvent\n                });\n                break;\n            case Keys.esc:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: RATING_ACTION.deselect, event: syntheticEvent\n                });\n                break;\n            default:\n                break;\n        }\n        if (props.onKeyDown) {\n            props.onKeyDown.call(undefined, {\n                value: value,\n                target: target.current,\n                syntheticEvent: syntheticEvent\n            });\n        }\n    }, [props.onKeyDown, dispatchStateValue, value]);\n    var handleFocus = React.useCallback(function (syntheticEvent) {\n        if (props.onFocus) {\n            props.onFocus.call(undefined, {\n                target: target.current,\n                syntheticEvent: syntheticEvent\n            });\n        }\n    }, [props.onFocus]);\n    var handleBlur = React.useCallback(function (syntheticEvent) {\n        if (props.onBlur) {\n            props.onBlur.call(undefined, {\n                target: target.current,\n                syntheticEvent: syntheticEvent\n            });\n        }\n    }, [props.onBlur]);\n    var handleItemMouseMove = React.useCallback(function (event) {\n        if (!event.target || !event.target.element) {\n            return;\n        }\n        if (precision === 'half') {\n            var rect = event.target.element.getBoundingClientRect();\n            var isFirstHalf = calcIsFirstHalf(dir ? dir : 'ltr', rect, event.syntheticEvent.clientX);\n            var payload = isFirstHalf ? event.target.value - (step / 2) : event.target.value;\n            dispatchStateHover({ type: RATING_ACTION.select, payload: payload, event: event.syntheticEvent });\n        }\n        else {\n            dispatchStateHover({ type: RATING_ACTION.select, payload: event.target.value, event: event.syntheticEvent });\n        }\n    }, [precision, step, dir]);\n    var handleMouseLeave = React.useCallback(function (event) {\n        dispatchStateHover({ type: RATING_ACTION.reset, event: event.syntheticEvent });\n    }, []);\n    var items = [];\n    var remainder = getRemainder(toRound(max - min, base), step);\n    for (var i = min; i <= max; i = toRound(i + step, base)) {\n        var itemValue = toRound(i + remainder, base);\n        var half = precision === 'half'\n            ? isHalf(itemValue, hoveredValue !== null ? hoveredValue : (value !== null ? value : 0), step)\n            : false;\n        var selectedValue = isSelected(itemValue, value, step, selection);\n        var selected = isSelected(itemValue, hoveredValue !== null ? hoveredValue : value, step, selection);\n        var hovered = isSelected(itemValue, hoveredValue, step, selection);\n        items.push(React.createElement(Item, { key: itemValue, value: itemValue, dir: dir, title: String(half ? toRound(itemValue - (step / 2), base) : itemValue), icon: props.icon, half: half, selected: selectedValue || selected, hovered: hovered, onClick: handleItemClick, onMouseMove: handleItemMouseMove, onMouseLeave: handleMouseLeave },\n            half && (React.createElement(\"span\", { className: 'k-rating-precision-complement', style: (_a = { width: '12px' }, _a[dir === 'rtl' ? 'right' : 'left'] = '50%', _a) },\n                React.createElement(\"span\", { className: classNames('k-icon', (_b = {\n                            'k-i-star-outline': !props.icon\n                        },\n                        _b[props.icon + \"-outline\"] = props.icon,\n                        _b)) }))),\n            half && (React.createElement(\"span\", { className: 'k-rating-precision-part', style: { width: '12px' } },\n                React.createElement(\"span\", { className: classNames('k-icon', (_c = {\n                            'k-i-star': !props.icon\n                        },\n                        _c[\"\" + props.icon] = props.icon,\n                        _c)) }))),\n            half && (React.createElement(\"span\", { style: { width: '24px', height: '24px', display: 'block' } })),\n            !half && (React.createElement(\"span\", { className: classNames('k-icon', (_d = {\n                        'k-i-star': !props.icon && (hovered || (selected && !hovered)),\n                        'k-i-star-outline': !props.icon && (!hovered)\n                    },\n                    _d[\"\" + props.icon] = props.icon && (hovered || (selected && !hovered)),\n                    _d[props.icon + \"-outline\"] = props.icon && (!hovered),\n                    _d)) }))));\n    }\n    return (React.createElement(\"span\", { id: props.id, style: props.style, ref: ratingRef, role: \"slider\", dir: dir, tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined), className: classNames('k-rating k-widget', {\n            'k-rtl': dir === 'rtl',\n            'k-state-readonly': readonly,\n            'k-state-disabled': disabled\n        }, props.className), onKeyDown: handleKeyDown, onFocus: handleFocus, onBlur: handleBlur, \"aria-valuemin\": min, \"aria-valuemax\": max, \"aria-valuenow\": value !== null ? value : undefined, \"aria-disabled\": disabled ? 'true' : undefined, \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy },\n        React.createElement(\"input\", { id: 'rating', className: 'k-hidden', readOnly: readonly, disabled: disabled }),\n        React.createElement(\"span\", { className: 'k-rating-container' }, items),\n        props.label &&\n            React.createElement(\"span\", { className: 'k-rating-label' }, props.label)));\n});\nvar propTypes = {\n    id: PropTypes.string,\n    dir: PropTypes.oneOf(['ltr', 'rtl']),\n    selection: PropTypes.oneOf(['continues', 'single']),\n    precision: PropTypes.oneOf(['item', 'half']),\n    value: function (props, propName, componentName) {\n        if (props.value && props.min && props.max && props.step) {\n            var correctValue = props.precision === 'half'\n                ? isCorrectValue(props.min, props.max, props.step / 2, props.value)\n                : isCorrectValue(props.min, props.max, props.step, props.value);\n            if (!correctValue && props.precision === 'half') {\n                return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                    The value of the { value } property is not correct, please check your values.\\n                    \");\n            }\n        }\n        return null;\n    },\n    defaultValue: PropTypes.number,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: function (props, propName, componentName) {\n        if (props.step !== undefined && props.step <= 0) {\n            return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                The value of the { step } property is cannot be equal or less than \\\"0\\\", please check your values.\\n                \");\n        }\n        return null;\n    },\n    hovered: PropTypes.number,\n    label: PropTypes.string,\n    readonly: PropTypes.bool,\n    disabled: PropTypes.bool,\n    half: PropTypes.bool,\n    icon: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n    dir: 'ltr',\n    min: 1,\n    max: 5,\n    step: 1,\n    item: RatingItem,\n    defaultValue: null,\n    readonly: false,\n    disabled: false,\n    selection: 'continues',\n    precision: 'item'\n};\nRating.displayName = 'KendoReactRating';\n// TODO: delete casting when @types/react is updated!\nRating.propTypes = propTypes;\nRating.defaultProps = defaultProps;\n//# sourceMappingURL=Rating.js.map"]},"metadata":{},"sourceType":"module"}